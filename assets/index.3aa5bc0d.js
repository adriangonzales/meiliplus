import{o as e,c as t,r as l,a as s,b as r,w as n,v as i,d as a,e as o,f as d,g as c,h as u,i as h,j as g,k as p,l as m,m as b,F as f,n as x,p as w,t as k,q as y,M as v,s as C}from"./vendor.8647204d.js";const z={},I={type:"button",class:"btn"};z.render=function(s,r){return e(),t("button",I,[l(s.$slots,"default")])};const S={},R={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 36.293 36.292"},P=s("path",{d:"m7.984 15.654v4.985c0 0.827-0.672 1.5-1.5 1.5h-4.984c-0.828 0-1.5-0.673-1.5-1.5v-4.985c0-0.829 0.672-1.5 1.5-1.5h4.984c0.828 0 1.5 0.673 1.5 1.5zm26.808-1.5h-22.284c-0.827 0-1.5 0.671-1.5 1.5v4.985c0 0.827 0.673 1.5 1.5 1.5h22.285c0.828 0 1.5-0.673 1.5-1.5v-4.985c-1e-3 -0.827-0.672-1.5-1.501-1.5zm-28.308-11.375h-4.984c-0.828 0-1.5 0.671-1.5 1.5v4.985c0 0.829 0.672 1.5 1.5 1.5h4.984c0.828 0 1.5-0.671 1.5-1.5v-4.985c0-0.827-0.672-1.5-1.5-1.5zm28.308 0h-22.284c-0.827 0-1.5 0.671-1.5 1.5v4.985c0 0.829 0.673 1.5 1.5 1.5h22.285c0.828 0 1.5-0.671 1.5-1.5v-4.985c-1e-3 -0.827-0.672-1.5-1.501-1.5zm-28.308 22.751h-4.984c-0.828 0-1.5 0.671-1.5 1.5v4.984c0 0.83 0.672 1.5 1.5 1.5h4.984c0.828 0 1.5-0.67 1.5-1.5v-4.984c0-0.829-0.672-1.5-1.5-1.5zm28.308 0h-22.284c-0.827 0-1.5 0.671-1.5 1.5v4.984c0 0.83 0.673 1.5 1.5 1.5h22.285c0.828 0 1.5-0.67 1.5-1.5v-4.984c-1e-3 -0.829-0.672-1.5-1.501-1.5z"},null,-1);S.render=function(l,s){return e(),t("svg",R,[P])};const B={},F={viewBox:"0 0 51.976 51.976",xmlns:"http://www.w3.org/2000/svg"},V=s("path",{d:"m44.373 7.603c-10.137-10.137-26.632-10.138-36.77 0s-10.137 26.632 0 36.77 26.632 10.138 36.77 0c10.137-10.138 10.137-26.633 0-36.77zm-8.132 28.638c-0.781 0.781-2.047 0.781-2.828 0l-7.425-7.425-7.778 7.778c-0.781 0.781-2.047 0.781-2.828 0s-0.781-2.047 0-2.828l7.778-7.778-7.425-7.425c-0.781-0.781-0.781-2.048 0-2.828 0.781-0.781 2.047-0.781 2.828 0l7.425 7.425 7.071-7.071c0.781-0.781 2.047-0.781 2.828 0s0.781 2.047 0 2.828l-7.071 7.071 7.425 7.425c0.781 0.781 0.781 2.047 0 2.828z"},null,-1);B.render=function(l,s){return e(),t("svg",F,[V])};const K={},N={viewBox:"0 0 302.4 302.4",xmlns:"http://www.w3.org/2000/svg"},j=s("path",{d:"m204.8 97.6c-13.6-13.6-32.8-22.4-53.6-22.4s-40 8.4-53.6 22.4c-13.6 13.6-22.4 32.8-22.4 53.6s8.8 40 22.4 53.6 32.8 22.4 53.6 22.4 40-8.4 53.6-22.4c13.6-13.6 22.4-32.8 22.4-53.6s-8.4-40-22.4-53.6z"},null,-1),q=s("path",{d:"m151.2 51.6c5.6 0 10.4-4.8 10.4-10.4v-30.8c0-5.6-4.8-10.4-10.4-10.4s-10.4 4.8-10.4 10.4v30.8c0 5.6 4.8 10.4 10.4 10.4z"},null,-1),L=s("path",{d:"m236.4 80.8l22-22c4-4 4-10.4 0-14.4s-10.4-4-14.4 0l-22 22c-4 4-4 10.4 0 14.4 3.6 4 10 4 14.4 0z"},null,-1),U=s("path",{d:"m292 140.8h-30.8c-5.6 0-10.4 4.8-10.4 10.4s4.8 10.4 10.4 10.4h30.8c5.6 0 10.4-4.8 10.4-10.4s-4.8-10.4-10.4-10.4z"},null,-1),T=s("path",{d:"m236 221.6c-4-4-10.4-4-14.4 0s-4 10.4 0 14.4l22 22c4 4 10.4 4 14.4 0s4-10.4 0-14.4l-22-22z"},null,-1),A=s("path",{d:"m151.2 250.8c-5.6 0-10.4 4.8-10.4 10.4v30.8c0 5.6 4.8 10.4 10.4 10.4s10.4-4.8 10.4-10.4v-30.8c0-5.6-4.8-10.4-10.4-10.4z"},null,-1),$=s("path",{d:"m66 221.6l-22 22c-4 4-4 10.4 0 14.4s10.4 4 14.4 0l22-22c4-4 4-10.4 0-14.4-3.6-4-10-4-14.4 0z"},null,-1),_=s("path",{d:"m51.6 151.2c0-5.6-4.8-10.4-10.4-10.4h-30.8c-5.6 0-10.4 4.8-10.4 10.4s4.8 10.4 10.4 10.4h30.8c5.6 0 10.4-4.8 10.4-10.4z"},null,-1),M=s("path",{d:"m66 80.8c4 4 10.4 4 14.4 0s4-10.4 0-14.4l-22-22c-4-4-10.4-4-14.4 0s-4 10.4 0 14.4l22 22z"},null,-1);K.render=function(l,s){return e(),t("svg",N,[j,q,L,U,T,A,$,_,M])};const E={},H={viewBox:"0 0 312.812 312.812",xmlns:"http://www.w3.org/2000/svg"},Q=s("path",{d:"m305.2 178.16c-3.2-0.8-6.4 0-9.2 2-10.4 8.8-22.4 16-35.6 20.8-12.4 4.8-26 7.2-40.4 7.2-32.4 0-62-13.2-83.2-34.4s-34.4-50.8-34.4-83.2c0-13.6 2.4-26.8 6.4-38.8 4.4-12.8 10.8-24.4 19.2-34.4 3.6-4.4 2.8-10.8-1.6-14.4-2.8-2-6-2.8-9.2-2-34 9.2-63.6 29.6-84.8 56.8-20.4 26.8-32.4 60-32.4 96 0 43.6 17.6 83.2 46.4 112s68 46.4 112 46.4c36.8 0 70.8-12.8 98-34 27.6-21.6 47.6-52.4 56-87.6 1.6-5.6-1.6-11.2-7.2-12.4z"},null,-1);E.render=function(l,s){return e(),t("svg",H,[Q])};const O={emits:["change-filter","clear-filter"],components:{ButtonBase:z},props:{filter:{default:null}},data:()=>({query:null}),methods:{changeFilter(){this.$emit("change-filter",this.query)},clearFilter(){this.query=null,this.$emit("clear-filter")}}},D=d("Search"),G={class:"flex w-full items-center py-2"},J=d("Unset");O.render=function(l,d,c,u,h,g){const p=r("button-base");return e(),t("div",null,[s("form",{onSubmit:d[2]||(d[2]=o((e=>g.changeFilter()),["prevent"])),class:"flex w-full items-center py-2"},[n(s("input",{type:"search","onUpdate:modelValue":d[1]||(d[1]=e=>h.query=e),class:"flex-grow rounded-l px-2 py-1 bg-transparent border border-bright-400 dark:border-dim-600 "},null,512),[[i,h.query]]),s(p,{type:"submit",class:"border border-l-0 rounded-r py-1"},{default:a((()=>[D])),_:1})],32),s("div",G,[s(p,{class:"rounded py-1 text-xs dark:border-dim-600 bg-bright-400 dark:bg-dim-600",onClick:g.clearFilter},{default:a((()=>[J])),_:1},8,["onClick"])])])};var W=c({emits:["return-checked-rows","return-selected-rows"],data:()=>({classTableRows:["text-bright-900 dark:text-dim-100 bg-bright-100 dark:bg-dim-800","text-bright-900 dark:text-dim-100 bg-bright-200 dark:bg-dim-900"]}),props:{columns:{type:Array,default:()=>[]},rows:{type:Array,default:()=>[]}},setup(e,{emit:t}){const l=u({isCheckAll:!1,keyColumn:h((()=>{let t="";return Object.assign(e.columns).forEach((e=>{e.isKey&&(t=e.field)})),t}))}),s=g([]),r=g([]);p((()=>{s.value=[],r.value=[]})),m((()=>l.isCheckAll),(e=>{let l=[];s.value.forEach((t=>{t&&(t.checked=e,t.checked&&l.push(t.value))})),t("return-checked-rows",l)}));return{setting:l,rowsChecked:s,handleRowCheck:()=>{let e=[];console.log("rowsChecked",s),s.value.forEach((t=>{t&&t.checked&&e.push(t.value)})),t("return-checked-rows",e)}}}});const X={class:"border-collapse w-full"},Y={class:"sticky top-0 w-full text-sm"},Z={class:"w-full bg-bright-300 dark:bg-dim-900 border-b border-bright-400 dark:border-dim-600"},ee={class:"w-8 border-r border-bright-400 dark:border-dim-600"},te={key:0},le={class:"border-r border-bright-400 dark:border-dim-600 p-2"},se={key:1};W.render=function(l,r,i,a,o,d){return e(),t("table",X,[s("thead",Y,[s("tr",Z,[s("th",ee,[n(s("input",{type:"checkbox","onUpdate:modelValue":r[1]||(r[1]=e=>l.setting.isCheckAll=e)},null,512),[[b,l.setting.isCheckAll]])]),(e(!0),t(f,null,x(l.columns,((l,s)=>(e(),t("th",{key:s,style:{width:l.width?l.width:"auto"},class:"border-r border-bright-400 dark:border-dim-600 py-2"},k(l.label),5)))),128))])]),l.rows.length>0?(e(),t("tbody",te,[(e(!0),t(f,null,x(l.rows,((n,i)=>(e(),t("tr",{onClick:r[3]||(r[3]=(...e)=>l.handleRowSelect&&l.handleRowSelect(...e)),key:i,class:["cursor-pointer",l.classTableRows[i%2]]},[s("td",le,[s("input",{type:"checkbox",ref:e=>{l.rowsChecked[i]=e},value:n[l.setting.keyColumn],onClick:r[2]||(r[2]=(...e)=>l.handleRowCheck&&l.handleRowCheck(...e))},null,8,["value"])]),(e(!0),t(f,null,x(l.columns,((l,s)=>(e(),t("td",{key:s,class:"border-r border-bright-400 dark:border-dim-600 p-2"},[l.display?(e(),t("div",{key:0,innerHTML:l.display(n)},null,8,["innerHTML"])):(e(),t("span",se,k(n[l.field]),1))])))),128))],2)))),128))])):w("",!0)])};const re={emits:["return-checked-rows","return-selected-rows"],components:{ButtonBase:z},props:{rows:{default:null}}},ne={class:"grid gap-y-2 gap-x-4 grid-cols-offset"},ie={class:"text-right text-bright-600 dark:text-dim-400"},ae={class:""};re.render=function(l,r,n,i,a,o){return e(),t("div",null,[(e(!0),t(f,null,x(n.rows,((l,r)=>(e(),t("div",{key:r,class:"rounded my-6 mx-6 p-6 text-bright-900 dark:text-dim-100 bg-bright-300 dark:bg-dim-900 border border-bright-400 dark:border-dim-600"},[s("dl",ne,[(e(!0),t(f,null,x(Object.keys(l),((r,n)=>(e(),t(f,{key:n},[s("dt",ie,k(r),1),s("dd",ae,k(l[r]),1)],64)))),128))])])))),128))])};const oe={},de={viewBox:"0 0 512.18 512.18",xmlns:"http://www.w3.org/2000/svg"},ce=s("path",{d:"m448.18 80h-320c-17.673 0-32 14.327-32 32s14.327 32 32 32h320c17.673 0 32-14.327 32-32s-14.327-32-32-32z"},null,-1),ue=s("path",{d:"m64.18 112c-0.036-8.473-3.431-16.586-9.44-22.56-12.481-12.407-32.639-12.407-45.12 0-6.01 5.974-9.405 14.087-9.44 22.56-0.239 2.073-0.239 4.167 0 6.24 0.362 2.085 0.952 4.124 1.76 6.08 0.859 1.895 1.876 3.715 3.04 5.44 1.149 1.794 2.49 3.457 4 4.96 1.456 1.45 3.065 2.738 4.8 3.84 1.685 1.227 3.512 2.248 5.44 3.04 2.121 1.1 4.382 1.908 6.72 2.4 2.073 0.232 4.167 0.232 6.24 0 8.45 7e-3 16.56-3.329 22.56-9.28 1.51-1.503 2.851-3.166 4-4.96 1.164-1.725 2.181-3.545 3.04-5.44 1.021-1.932 1.826-3.971 2.4-6.08 0.239-2.073 0.239-4.167 0-6.24z"},null,-1),he=s("path",{d:"m64.18 256c0.238-2.073 0.238-4.167 0-6.24-0.553-2.065-1.359-4.053-2.4-5.92-0.824-1.963-1.843-3.839-3.04-5.6-1.109-1.774-2.455-3.389-4-4.8-12.481-12.407-32.639-12.407-45.12 0-6.01 5.974-9.405 14.087-9.44 22.56 0.062 4.217 0.875 8.388 2.4 12.32 0.802 1.893 1.766 3.713 2.88 5.44 1.217 1.739 2.611 3.348 4.16 4.8 1.414 1.542 3.028 2.888 4.8 4 1.685 1.228 3.511 2.249 5.44 3.04 1.951 0.821 3.992 1.412 6.08 1.76 2.047 0.459 4.142 0.674 6.24 0.64 2.073 0.239 4.167 0.239 6.24 0 2.036-0.349 4.024-0.94 5.92-1.76 1.981-0.786 3.861-1.807 5.6-3.04 1.772-1.112 3.386-2.458 4.8-4 1.542-1.414 2.888-3.028 4-4.8 1.23-1.684 2.251-3.51 3.04-5.44 1.093-2.124 1.9-4.384 2.4-6.72 0.246-2.073 0.246-4.167 0-6.24z"},null,-1),ge=s("path",{d:"m64.18 400c0.237-2.073 0.237-4.167 0-6.24-0.553-2.116-1.359-4.157-2.4-6.08-0.859-1.895-1.876-3.715-3.04-5.44-1.112-1.772-2.458-3.386-4-4.8-12.481-12.407-32.639-12.407-45.12 0-1.542 1.414-2.888 3.028-4 4.8-1.164 1.725-2.181 3.545-3.04 5.44-0.83 1.948-1.421 3.99-1.76 6.08-0.451 2.049-0.665 4.142-0.64 6.24 0.036 8.473 3.431 16.586 9.44 22.56 1.414 1.542 3.028 2.888 4.8 4 1.685 1.228 3.511 2.249 5.44 3.04 1.951 0.821 3.992 1.412 6.08 1.76 2.047 0.459 4.142 0.674 6.24 0.64 2.073 0.239 4.167 0.239 6.24 0 2.036-0.349 4.024-0.94 5.92-1.76 1.981-0.786 3.861-1.807 5.6-3.04 1.772-1.112 3.386-2.458 4.8-4 1.542-1.414 2.888-3.028 4-4.8 1.231-1.683 2.252-3.51 3.04-5.44 1.092-2.125 1.899-4.384 2.4-6.72 0.246-2.073 0.246-4.167 0-6.24z"},null,-1),pe=s("path",{d:"m480.18 224h-352c-17.673 0-32 14.327-32 32s14.327 32 32 32h352c17.673 0 32-14.327 32-32s-14.327-32-32-32z"},null,-1),me=s("path",{d:"m336.18 368h-208c-17.673 0-32 14.327-32 32s14.327 32 32 32h208c17.673 0 32-14.327 32-32s-14.327-32-32-32z"},null,-1);oe.render=function(l,s){return e(),t("svg",de,[ce,ue,he,ge,pe,me])};const be={},fe={viewBox:"0 -52 512 512",xmlns:"http://www.w3.org/2000/svg"},xe=s("path",{d:"m0 0h113.292969v113.292969h-113.292969zm0 0"},null,-1),we=s("path",{d:"m149.296875 0h362.703125v113.292969h-362.703125zm0 0"},null,-1),ke=s("path",{d:"m0 147.007812h113.292969v113.292969h-113.292969zm0 0"},null,-1),ye=s("path",{d:"m149.296875 147.007812h362.703125v113.292969h-362.703125zm0 0"},null,-1),ve=s("path",{d:"m0 294.011719h113.292969v113.296875h-113.292969zm0 0"},null,-1),Ce=s("path",{d:"m149.296875 294.011719h362.703125v113.296875h-362.703125zm0 0"},null,-1);be.render=function(l,s){return e(),t("svg",fe,[xe,we,ke,ye,ve,Ce])};var ze=c({emits:["change-view","change-page"],components:{ButtonBase:z,ListIcon:oe,TableIcon:be},props:{resultsView:{type:String,default:"table"},isReSearch:{type:Boolean,require:!0},rows:{type:Array,default:()=>[]},pageSize:{type:Number,default:10},total:{type:Number,default:100},page:{type:Number,default:1}},setup(e,{emit:t}){const l=u({page:e.page,pageSize:e.pageSize,maxPage:h((()=>{if(e.total<=0)return 0;let t=Math.floor(e.total/l.pageSize);return e.total%l.pageSize>0&&t++,t})),offset:h((()=>(l.page-1)*l.pageSize+1)),limit:h((()=>{let t=l.page*l.pageSize;return e.total>=t?t:e.total}))}),s=(s,r)=>{let n=(s-1)*l.pageSize,i=l.pageSize;(!e.isReSearch||s>1||s==r)&&t("change-page",n,i)};m((()=>l.page),s);m((()=>l.pageSize),(()=>{1===l.page?s(l.page,l.page):l.page=1}));return{setting:l,prevPage:()=>{if(1==l.page)return!1;l.page--},movePage:e=>{l.page=e},nextPage:()=>{if(l.page>=l.maxPage)return!1;l.page++}}}});const Ie={class:"w-1/3"},Se={class:"flex"},Re={class:"label w-1/3 text-sm text-center",role:"status","aria-live":"polite"},Pe={class:"w-1/3 flex items-center justify-end"},Be={class:""},Fe=s("label",{for:"paginator-page-limit",class:"label mr-2 text-sm"},"Limit",-1),Ve=s("option",{value:"10"},"10",-1),Ke=s("option",{value:"25"},"25",-1),Ne=s("option",{value:"50"},"50",-1),je={class:"ml-2 mr-6"},qe=s("label",{for:"paginator-page-select",class:"label mr-2 text-sm"},"Page",-1),Le={class:"relative inline-flex shadow-sm -space-x-px text-sm font-medium","aria-label":"Pagination"},Ue=s("span",{"aria-hidden":"true"},"<",-1),Te=s("span",{class:"sr-only"},"Prev",-1),Ae=s("span",{"aria-hidden":"true"},">",-1),$e=s("span",{class:"sr-only"},"Next",-1);ze.render=function(l,i,o,d,c,u){const h=r("table-icon"),g=r("button-base"),p=r("list-icon");return e(),t("div",null,[s("div",Ie,[s("div",Se,[s(g,{class:["rounded-l",{"bg-primary-500 text-white dark:bg-primary-800":"table"==l.resultsView}],onClick:i[1]||(i[1]=e=>l.$emit("change-view","table"))},{default:a((()=>[s(h,{class:"w-3 fill-current"})])),_:1},8,["class"]),s(g,{class:["rounded-r",{"bg-primary-500 text-white dark:bg-primary-800":"list"==l.resultsView}],onClick:i[2]||(i[2]=e=>l.$emit("change-view","list"))},{default:a((()=>[s(p,{class:"w-3 fill-current"})])),_:1},8,["class"])])]),s("div",Re," Showing "+k(l.setting.offset)+"-"+k(l.setting.limit)+" of "+k(l.total),1),s("div",Pe,[s("div",Be,[Fe,n(s("select",{id:"paginator-page-limit",class:"py-1 text-sm rounded bg-bright-200 dark:bg-dim-800 text-bright-900 dark:text-dim-100","onUpdate:modelValue":i[3]||(i[3]=e=>l.setting.pageSize=e)},[Ve,Ke,Ne],512),[[y,l.setting.pageSize]])]),s("div",je,[qe,n(s("select",{id:"paginator-page-select",class:"py-1 text-sm rounded bg-bright-200 dark:bg-dim-800 text-bright-900 dark:text-dim-100","onUpdate:modelValue":i[4]||(i[4]=e=>l.setting.page=e)},[(e(!0),t(f,null,x(l.setting.maxPage,(l=>(e(),t("option",{key:l},k(l),1)))),128))],512),[[y,l.setting.page]])]),s("nav",Le,[s(g,{disabled:l.setting.page<=1,class:"px-4 rounded-l","aria-label":"Previous",onClick:l.prevPage},{default:a((()=>[Ue,Te])),_:1},8,["disabled","onClick"]),s(g,{disabled:l.setting.page>=l.setting.maxPage,class:"px-4 rounded-r","aria-label":"Next",onClick:l.nextPage},{default:a((()=>[Ae,$e])),_:1},8,["disabled","onClick"])])])])};const _e={components:{ButtonBase:z,ResultsToolbar:O,ResultsTable:W,ResultsList:re,ResultsFooter:ze},props:{index:{default:null}},data:()=>({view:"table",isLoading:!1,indexes:null,primaryKey:"id",results:null,query:null,offset:0,limit:10,rowClasses:["text-bright-900 dark:text-dim-100 bg-bright-200 dark:bg-dim-800","text-bright-900 dark:text-dim-100 bg-bright-300 dark:bg-dim-900"]}),computed:{isReSearch:function(){return null==this.offset},tableColumns:function(){let e=[];return this.results.hits&&Object.keys(this.results.hits[0]).forEach((t=>{let l={label:t,field:t};t===this.primaryKey&&(l.isKey=!0),e.push(l)})),e}},watch:{index:function(){this.handleFilterClear()}},mounted:function(){"list"===localStorage.getItem("resultView")?this.view="list":this.view="table"},methods:{updateCheckedRows(e){console.log("updateCheckedRows",e)},setLoading(e=!0){this.isLoading=e},handleViewChange(e){localStorage.setItem("resultView",e),this.view=e},setPage(e=0,t=10){this.offset=e,this.limit=t},handlePageChange(e=0,t=null){this.setLoading(),this.setPage(parseInt(e),parseInt(t)),this.sendQuery()},handleFilterChange(e){this.setLoading(),this.setPage(),this.query=e,this.sendQuery()},async sendQuery(){let e={offset:this.offset,limit:this.limit};this.results=await this.index.search(this.query,e)},handleFilterClear(){this.setPage(),this.query=null,this.sendQuery()}}},Me={class:"overflow-y-auto flex-grow h-full"},Ee={key:1,class:"p-4 text-bright-500 dark:text-dim-600"};_e.render=function(l,n,i,a,o,d){const c=r("results-toolbar"),u=r("results-table"),h=r("results-list"),g=r("results-footer");return e(),t("section",null,[s(c,{filter:o.query,onChangeFilter:d.handleFilterChange,onClearFilter:d.handleFilterClear,class:"flex flex-col items-center px-4 border-b border-bright-400 dark:border-black bg-bright-300 dark:bg-dim-900"},null,8,["filter","onChangeFilter","onClearFilter"]),s("div",Me,[o.results&&o.results.hits?(e(),t(f,{key:0},["table"===o.view?(e(),t(u,{key:0,columns:d.tableColumns,rows:o.results.hits,onReturnCheckedRows:d.updateCheckedRows},null,8,["columns","rows","onReturnCheckedRows"])):w("",!0),"list"===o.view?(e(),t(h,{key:1,rows:o.results.hits,onReturnCheckedRows:d.updateCheckedRows},null,8,["rows","onReturnCheckedRows"])):w("",!0)],64)):(e(),t("div",Ee," No Results "))]),o.results&&o.results.hits?(e(),t(g,{key:0,"is-re-search":d.isReSearch,"is-loading":o.isLoading,rows:o.results.hits,total:o.results.nbHits,offset:o.offset,limit:o.limit,"results-view":o.view,class:"px-4 py-1 flex justify-between items-center border-t border-bright-400 dark:border-dim-700 bg-bright-300 dark:bg-dim-900",onChangePage:d.handlePageChange,onChangeView:d.handleViewChange},null,8,["is-re-search","is-loading","rows","total","offset","limit","results-view","onChangePage","onChangeView"])):w("",!0)])};const He={},Qe={viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg"},Oe=s("path",{d:"m446.71 166.06c-4.698-7.51-14.73-9.243-21.724-4.043l-48.677 36.519c-6.094 4.585-7.793 13.023-3.926 19.6 12.348 21.021 18.618 43.521 18.618 66.885 0 74.444-60.557 136.98-135 136.98s-135-62.536-135-136.98c0-69.375 52.588-126.68 120-134.16v44.165c0 12.434 14.266 19.357 23.994 11.997l120-90c8.006-5.989 7.994-18.014 0-23.994l-120-90c-9.763-7.393-23.994-0.397-23.994 11.997v45.498c-117.1 7.749-210 105.48-210 224.5 0 124.07 100.93 226.98 225 226.98s225-102.91 225-226.98c0-41.982-11.865-83.115-34.291-118.96z"},null,-1);He.render=function(l,s){return e(),t("svg",Qe,[Oe])};const De={emits:["select-index","refresh-indexes"],components:{ButtonBase:z,IndexIcon:S,RefreshIcon:He},props:{indexes:{default:null}},data:()=>({client:null,indexName:null,indexFilter:null}),computed:{filteredIndexes:function(){if(this.indexFilter){let e=new RegExp(this.indexFilter,"ig");return this.indexes.filter((({name:t,uid:l})=>(t+l).match(e)))}return this.indexes}},methods:{setIndex(e){this.indexName=e,this.$emit("select-index",e)}}},Ge={class:"h-full flex flex-col overflow-y-auto"},Je={class:"flex flex-col"},We={class:"flex justify-end py-2 px-4"};De.render=function(l,c,u,h,g,p){const m=r("index-icon"),b=r("refresh-icon"),w=r("button-base");return e(),t("nav",null,[s("form",{onSubmit:c[2]||(c[2]=o((()=>{}),["prevent"])),class:"flex w-full items-center py-2 px-4"},[n(s("input",{type:"search","onUpdate:modelValue":c[1]||(c[1]=e=>g.indexFilter=e),placeholder:"Search for index",class:"flex-grow rounded-l px-2 py-1 bg-transparent border border-bright-400 dark:border-dim-600"},null,512),[[i,g.indexFilter]])],32),s("div",Ge,[s("div",Je,[(e(!0),t(f,null,x(p.filteredIndexes,(l=>(e(),t("button",{type:"button",class:["text-left py-2 px-4 flex items-center",{"font-bold bg-primary-200 dark:bg-primary-800":g.indexName==l.uid}],key:l.uid,onClick:e=>p.setIndex(l.uid)},[s(m,{class:"w-4 mr-2 text-primary-400 dark:text-primary-300 fill-current"}),d(" "+k(l.name),1)],10,["onClick"])))),128))])]),s("div",We,[s(w,{class:"rounded",onClick:c[3]||(c[3]=e=>l.$emit("refresh-indexes"))},{default:a((()=>[s(b,{class:"w-3 fill-current"})])),_:1})])])};const Xe={components:{ButtonBase:z,IndexIcon:S,ErrorIcon:B,SunIcon:K,MoonIcon:E,IndexResults:_e,IndexList:De},data(){var e,t,l;return{theme:"light",busy:!1,connected:!1,connecting:!1,server:null!=(e=localStorage.getItem("server"))?e:"http://localhost",port:null!=(t=localStorage.getItem("port"))?t:"7700",apiKey:null!=(l=localStorage.getItem("apiKey"))?l:"",client:null,indexes:null,indexName:null,index:null}},mounted:function(){"dark"===localStorage.theme||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?this.theme="dark":this.theme="light"},computed:{hostUrl:function(){let e=this.server;return this.port&&"80"!==this.port&&(e=e+":"+this.port),e}},watch:{indexName:function(e){this.index=this.client.index(e)},server:function(e){this.$nextTick((()=>{this.server=e.replace(/\/$/,"")}))}},methods:{toggleTheme(){this.theme="light"==this.theme?"dark":"light",localStorage.setItem("theme",this.theme)},disconnect(){this.connected=!1},connect(){this.connecting=!0,localStorage.setItem("server",this.server),localStorage.setItem("port",this.port),localStorage.setItem("apiKey",this.apiKey),this.client=new v({host:this.hostUrl,apiKey:this.apiKey}),this.getIndexes(),this.connecting=!1,this.connected=!0},async getIndexes(){this.indexes=await this.client.listIndexes()},handleIndexRefresh(){this.getIndexes()},handleIndexSelect(e){this.indexName=e}}},Ye={class:"flex flex-col h-full text-black dark:text-white bg-bright-300 dark:bg-dim-900"},Ze={class:"p-4 bg-gradient-to-b from-bright-300 to-bright-400 dark:from-dim-500 dark:to-dim-600 border-t border-bright-100 dark:border-dim-200"},et={class:"flex items-center justify-between select-none"},tt={key:0,class:"flex justify-between"},lt={key:1},st={class:"flex-grow overflow-y-auto border-t border-bright-600 dark:border-black"},rt={key:0,class:"h-full w-full flex items-center justify-center"},nt={key:0,class:"flex items-center"},it=s("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[s("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),s("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),at=d(" Connecting "),ot={key:1,class:"flex flex-col rounded shadow-xl bg-bright-100 dark:bg-dim-700 w-full max-w-lg"},dt={class:"flex rounded-t"},ct={class:"border-t border-bright-200 dark:border-dim-600"},ut=d("Connect"),ht={key:1,class:"h-full w-full flex items-center justify-center"};Xe.render=function(l,o,d,c,u,h){const g=r("ErrorIcon"),p=r("SunIcon"),m=r("MoonIcon"),b=r("button-base"),f=r("index-list"),x=r("index-results");return e(),t("div",{class:[u.theme,"h-full"]},[s("div",Ye,[s("header",Ze,[s("div",et,[s("div",{class:["flex-grow rounded text-sm px-2 py-1 mr-4",{"bg-primary-600 text-primary-100":u.connected,"bg-bright-200 text-bright-500":!u.connected}]},[u.connected?(e(),t("div",tt,[s("div",null,k(h.hostUrl),1),u.connected?(e(),t("button",{key:0,class:"text-xs font-bold",onClick:o[1]||(o[1]=e=>h.disconnect())},[s(g,{class:"w-4 fill-current"})])):w("",!0)])):(e(),t("div",lt," Not Connected "))],2),s(b,{class:"rounded",onClick:o[2]||(o[2]=e=>h.toggleTheme())},{default:a((()=>["dark"===u.theme?(e(),t(p,{key:0,class:"w-3 fill-current"})):w("",!0),"light"===u.theme?(e(),t(m,{key:1,class:"w-3 fill-current"})):w("",!0)])),_:1})])]),s("main",st,[u.connected?w("",!0):(e(),t("div",rt,[u.connecting?(e(),t("div",nt,[it,at])):w("",!0),u.connecting?w("",!0):(e(),t("div",ot,[s("div",dt,[n(s("input",{type:"input","onUpdate:modelValue":o[3]||(o[3]=e=>u.server=e),class:"flex-grow px-2 py-3 bg-transparent"},null,512),[[i,u.server]]),n(s("input",{type:"input","onUpdate:modelValue":o[4]||(o[4]=e=>u.port=e),class:"w-20 px-2 py-3 bg-transparent border-l border-bright-200 dark:border-dim-600"},null,512),[[i,u.port]])]),s("div",ct,[n(s("input",{type:"password","onUpdate:modelValue":o[5]||(o[5]=e=>u.apiKey=e),placeholder:"API Key",class:"border-0 w-full px-2 py-3 bg-transparent"},null,512),[[i,u.apiKey]])]),s(b,{class:"bg-primary-200 dark:bg-primary-800 rounded-b px-2 py-3",onClick:o[6]||(o[6]=e=>h.connect())},{default:a((()=>[ut])),_:1})]))])),u.connected?(e(),t("div",ht,[s(f,{indexes:u.indexes,onRefreshIndexes:h.handleIndexRefresh,onSelectIndex:h.handleIndexSelect,class:"h-full flex flex-col flex-shrink-0 text-sm w-60 border-r border-bright-400 dark:border-black bg-bright-300 dark:bg-dim-800"},null,8,["indexes","onRefreshIndexes","onSelectIndex"]),s(x,{index:u.index,class:"flex-grow flex flex-col h-full"},null,8,["index"])])):w("",!0)])])],2)};C(Xe).mount("#app");
