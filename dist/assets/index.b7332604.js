import{o as e,c as t,r,a as l,b as s,w as a,v as n,d as i,e as o,f as c,g as d,h as u,i as g,j as h,k as p,l as y,m,F as x,n as f,p as b,t as w,q as v,M as k,s as C}from"./vendor.8647204d.js";const z={},I={type:"button",class:"p-2 bg-gray-400 active:bg-gray-500 border-gray-400 dark:border-gray-600 dark:bg-gray-600 dark:active:bg-gray-500 disabled:opacity-50"};z.render=function(l,s){return e(),t("button",I,[r(l.$slots,"default")])};const S={},R={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 36.293 36.292"},P=l("path",{d:"m7.984 15.654v4.985c0 0.827-0.672 1.5-1.5 1.5h-4.984c-0.828 0-1.5-0.673-1.5-1.5v-4.985c0-0.829 0.672-1.5 1.5-1.5h4.984c0.828 0 1.5 0.673 1.5 1.5zm26.808-1.5h-22.284c-0.827 0-1.5 0.671-1.5 1.5v4.985c0 0.827 0.673 1.5 1.5 1.5h22.285c0.828 0 1.5-0.673 1.5-1.5v-4.985c-1e-3 -0.827-0.672-1.5-1.501-1.5zm-28.308-11.375h-4.984c-0.828 0-1.5 0.671-1.5 1.5v4.985c0 0.829 0.672 1.5 1.5 1.5h4.984c0.828 0 1.5-0.671 1.5-1.5v-4.985c0-0.827-0.672-1.5-1.5-1.5zm28.308 0h-22.284c-0.827 0-1.5 0.671-1.5 1.5v4.985c0 0.829 0.673 1.5 1.5 1.5h22.285c0.828 0 1.5-0.671 1.5-1.5v-4.985c-1e-3 -0.827-0.672-1.5-1.501-1.5zm-28.308 22.751h-4.984c-0.828 0-1.5 0.671-1.5 1.5v4.984c0 0.83 0.672 1.5 1.5 1.5h4.984c0.828 0 1.5-0.67 1.5-1.5v-4.984c0-0.829-0.672-1.5-1.5-1.5zm28.308 0h-22.284c-0.827 0-1.5 0.671-1.5 1.5v4.984c0 0.83 0.673 1.5 1.5 1.5h22.285c0.828 0 1.5-0.67 1.5-1.5v-4.984c-1e-3 -0.829-0.672-1.5-1.501-1.5z"},null,-1);S.render=function(r,l){return e(),t("svg",R,[P])};const B={},F={viewBox:"0 0 51.976 51.976",xmlns:"http://www.w3.org/2000/svg"},V=l("path",{d:"m44.373 7.603c-10.137-10.137-26.632-10.138-36.77 0s-10.137 26.632 0 36.77 26.632 10.138 36.77 0c10.137-10.138 10.137-26.633 0-36.77zm-8.132 28.638c-0.781 0.781-2.047 0.781-2.828 0l-7.425-7.425-7.778 7.778c-0.781 0.781-2.047 0.781-2.828 0s-0.781-2.047 0-2.828l7.778-7.778-7.425-7.425c-0.781-0.781-0.781-2.048 0-2.828 0.781-0.781 2.047-0.781 2.828 0l7.425 7.425 7.071-7.071c0.781-0.781 2.047-0.781 2.828 0s0.781 2.047 0 2.828l-7.071 7.071 7.425 7.425c0.781 0.781 0.781 2.047 0 2.828z"},null,-1);B.render=function(r,l){return e(),t("svg",F,[V])};const K={},N={viewBox:"0 0 302.4 302.4",xmlns:"http://www.w3.org/2000/svg"},j=l("path",{d:"m204.8 97.6c-13.6-13.6-32.8-22.4-53.6-22.4s-40 8.4-53.6 22.4c-13.6 13.6-22.4 32.8-22.4 53.6s8.8 40 22.4 53.6 32.8 22.4 53.6 22.4 40-8.4 53.6-22.4c13.6-13.6 22.4-32.8 22.4-53.6s-8.4-40-22.4-53.6z"},null,-1),q=l("path",{d:"m151.2 51.6c5.6 0 10.4-4.8 10.4-10.4v-30.8c0-5.6-4.8-10.4-10.4-10.4s-10.4 4.8-10.4 10.4v30.8c0 5.6 4.8 10.4 10.4 10.4z"},null,-1),L=l("path",{d:"m236.4 80.8l22-22c4-4 4-10.4 0-14.4s-10.4-4-14.4 0l-22 22c-4 4-4 10.4 0 14.4 3.6 4 10 4 14.4 0z"},null,-1),U=l("path",{d:"m292 140.8h-30.8c-5.6 0-10.4 4.8-10.4 10.4s4.8 10.4 10.4 10.4h30.8c5.6 0 10.4-4.8 10.4-10.4s-4.8-10.4-10.4-10.4z"},null,-1),T=l("path",{d:"m236 221.6c-4-4-10.4-4-14.4 0s-4 10.4 0 14.4l22 22c4 4 10.4 4 14.4 0s4-10.4 0-14.4l-22-22z"},null,-1),A=l("path",{d:"m151.2 250.8c-5.6 0-10.4 4.8-10.4 10.4v30.8c0 5.6 4.8 10.4 10.4 10.4s10.4-4.8 10.4-10.4v-30.8c0-5.6-4.8-10.4-10.4-10.4z"},null,-1),$=l("path",{d:"m66 221.6l-22 22c-4 4-4 10.4 0 14.4s10.4 4 14.4 0l22-22c4-4 4-10.4 0-14.4-3.6-4-10-4-14.4 0z"},null,-1),_=l("path",{d:"m51.6 151.2c0-5.6-4.8-10.4-10.4-10.4h-30.8c-5.6 0-10.4 4.8-10.4 10.4s4.8 10.4 10.4 10.4h30.8c5.6 0 10.4-4.8 10.4-10.4z"},null,-1),M=l("path",{d:"m66 80.8c4 4 10.4 4 14.4 0s4-10.4 0-14.4l-22-22c-4-4-10.4-4-14.4 0s-4 10.4 0 14.4l22 22z"},null,-1);K.render=function(r,l){return e(),t("svg",N,[j,q,L,U,T,A,$,_,M])};const E={},H={viewBox:"0 0 312.812 312.812",xmlns:"http://www.w3.org/2000/svg"},Q=l("path",{d:"m305.2 178.16c-3.2-0.8-6.4 0-9.2 2-10.4 8.8-22.4 16-35.6 20.8-12.4 4.8-26 7.2-40.4 7.2-32.4 0-62-13.2-83.2-34.4s-34.4-50.8-34.4-83.2c0-13.6 2.4-26.8 6.4-38.8 4.4-12.8 10.8-24.4 19.2-34.4 3.6-4.4 2.8-10.8-1.6-14.4-2.8-2-6-2.8-9.2-2-34 9.2-63.6 29.6-84.8 56.8-20.4 26.8-32.4 60-32.4 96 0 43.6 17.6 83.2 46.4 112s68 46.4 112 46.4c36.8 0 70.8-12.8 98-34 27.6-21.6 47.6-52.4 56-87.6 1.6-5.6-1.6-11.2-7.2-12.4z"},null,-1);E.render=function(r,l){return e(),t("svg",H,[Q])};const O={emits:["change-filter","clear-filter"],components:{ButtonBase:z},props:{filter:{default:null}},data:()=>({query:null}),methods:{changeFilter(){this.$emit("change-filter",this.query)},clearFilter(){this.query=null,this.$emit("clear-filter")}}},D=c("Search"),G={class:"flex w-full items-center py-2"},J=c("Unset");O.render=function(r,c,d,u,g,h){const p=s("button-base");return e(),t("div",null,[l("form",{onSubmit:c[2]||(c[2]=o((e=>h.changeFilter()),["prevent"])),class:"flex w-full items-center py-2"},[a(l("input",{type:"search","onUpdate:modelValue":c[1]||(c[1]=e=>g.query=e),class:"flex-grow rounded-l px-2 py-1 bg-transparent border border-gray-400 dark:border-gray-600 "},null,512),[[n,g.query]]),l(p,{type:"submit",class:"border border-l-0 rounded-r py-1"},{default:i((()=>[D])),_:1})],32),l("div",G,[l(p,{class:"rounded py-1 text-xs dark:border-gray-600 bg-gray-400 dark:bg-gray-600",onClick:h.clearFilter},{default:i((()=>[J])),_:1},8,["onClick"])])])};var W=d({emits:["return-checked-rows","return-selected-rows"],data:()=>({classTableRows:["text-gray-900 dark:text-gray-100 bg-gray-200 dark:bg-gray-800","text-gray-900 dark:text-gray-100 bg-gray-300 dark:bg-gray-900"]}),props:{columns:{type:Array,default:()=>[]},rows:{type:Array,default:()=>[]}},setup(e,{emit:t}){const r=u({isCheckAll:!1,keyColumn:g((()=>{let t="";return Object.assign(e.columns).forEach((e=>{e.isKey&&(t=e.field)})),t}))}),l=h([]),s=h([]);p((()=>{l.value=[],s.value=[]})),y((()=>r.isCheckAll),(e=>{let r=[];l.value.forEach((t=>{t&&(t.checked=e,t.checked&&r.push(t.value))})),t("return-checked-rows",r)}));return{setting:r,rowsChecked:l,handleRowCheck:()=>{let e=[];console.log("rowsChecked",l),l.value.forEach((t=>{t&&t.checked&&e.push(t.value)})),t("return-checked-rows",e)}}}});const X={class:"border-collapse w-full"},Y={class:"sticky top-0 w-full text-sm"},Z={class:"w-full bg-gray-300 dark:bg-gray-900 border-b border-gray-400 dark:border-gray-600"},ee={class:"w-8 border-r border-gray-400 dark:border-gray-600"},te={key:0},re={class:"border-r border-gray-400 dark:border-gray-600 p-2"},le={key:1};W.render=function(r,s,n,i,o,c){return e(),t("table",X,[l("thead",Y,[l("tr",Z,[l("th",ee,[a(l("input",{type:"checkbox","onUpdate:modelValue":s[1]||(s[1]=e=>r.setting.isCheckAll=e)},null,512),[[m,r.setting.isCheckAll]])]),(e(!0),t(x,null,f(r.columns,((r,l)=>(e(),t("th",{key:l,style:{width:r.width?r.width:"auto"},class:"border-r border-gray-400 dark:border-gray-600 py-2"},w(r.label),5)))),128))])]),r.rows.length>0?(e(),t("tbody",te,[(e(!0),t(x,null,f(r.rows,((a,n)=>(e(),t("tr",{onClick:s[3]||(s[3]=(...e)=>r.handleRowSelect&&r.handleRowSelect(...e)),key:n,class:["cursor-pointer",r.classTableRows[n%2]]},[l("td",re,[l("input",{type:"checkbox",ref:e=>{r.rowsChecked[n]=e},value:a[r.setting.keyColumn],onClick:s[2]||(s[2]=(...e)=>r.handleRowCheck&&r.handleRowCheck(...e))},null,8,["value"])]),(e(!0),t(x,null,f(r.columns,((r,l)=>(e(),t("td",{key:l,class:"border-r border-gray-400 dark:border-gray-600 p-2"},[r.display?(e(),t("div",{key:0,innerHTML:r.display(a)},null,8,["innerHTML"])):(e(),t("span",le,w(a[r.field]),1))])))),128))],2)))),128))])):b("",!0)])};const se={emits:["return-checked-rows","return-selected-rows"],components:{ButtonBase:z},props:{rows:{default:null}}},ae={class:"grid gap-y-2 gap-x-4 grid-cols-offset"},ne={class:"text-right text-gray-600 dark:text-gray-400"},ie={class:""};se.render=function(r,s,a,n,i,o){return e(),t("div",null,[(e(!0),t(x,null,f(a.rows,((r,s)=>(e(),t("div",{key:s,class:"rounded my-6 mx-6 p-6 text-gray-900 dark:text-gray-100 bg-gray-300 dark:bg-gray-900 border border-gray-400 dark:border-gray-600"},[l("dl",ae,[(e(!0),t(x,null,f(Object.keys(r),((s,a)=>(e(),t(x,{key:a},[l("dt",ne,w(s),1),l("dd",ie,w(r[s]),1)],64)))),128))])])))),128))])};const oe={},ce={viewBox:"0 0 512.18 512.18",xmlns:"http://www.w3.org/2000/svg"},de=l("path",{d:"m448.18 80h-320c-17.673 0-32 14.327-32 32s14.327 32 32 32h320c17.673 0 32-14.327 32-32s-14.327-32-32-32z"},null,-1),ue=l("path",{d:"m64.18 112c-0.036-8.473-3.431-16.586-9.44-22.56-12.481-12.407-32.639-12.407-45.12 0-6.01 5.974-9.405 14.087-9.44 22.56-0.239 2.073-0.239 4.167 0 6.24 0.362 2.085 0.952 4.124 1.76 6.08 0.859 1.895 1.876 3.715 3.04 5.44 1.149 1.794 2.49 3.457 4 4.96 1.456 1.45 3.065 2.738 4.8 3.84 1.685 1.227 3.512 2.248 5.44 3.04 2.121 1.1 4.382 1.908 6.72 2.4 2.073 0.232 4.167 0.232 6.24 0 8.45 7e-3 16.56-3.329 22.56-9.28 1.51-1.503 2.851-3.166 4-4.96 1.164-1.725 2.181-3.545 3.04-5.44 1.021-1.932 1.826-3.971 2.4-6.08 0.239-2.073 0.239-4.167 0-6.24z"},null,-1),ge=l("path",{d:"m64.18 256c0.238-2.073 0.238-4.167 0-6.24-0.553-2.065-1.359-4.053-2.4-5.92-0.824-1.963-1.843-3.839-3.04-5.6-1.109-1.774-2.455-3.389-4-4.8-12.481-12.407-32.639-12.407-45.12 0-6.01 5.974-9.405 14.087-9.44 22.56 0.062 4.217 0.875 8.388 2.4 12.32 0.802 1.893 1.766 3.713 2.88 5.44 1.217 1.739 2.611 3.348 4.16 4.8 1.414 1.542 3.028 2.888 4.8 4 1.685 1.228 3.511 2.249 5.44 3.04 1.951 0.821 3.992 1.412 6.08 1.76 2.047 0.459 4.142 0.674 6.24 0.64 2.073 0.239 4.167 0.239 6.24 0 2.036-0.349 4.024-0.94 5.92-1.76 1.981-0.786 3.861-1.807 5.6-3.04 1.772-1.112 3.386-2.458 4.8-4 1.542-1.414 2.888-3.028 4-4.8 1.23-1.684 2.251-3.51 3.04-5.44 1.093-2.124 1.9-4.384 2.4-6.72 0.246-2.073 0.246-4.167 0-6.24z"},null,-1),he=l("path",{d:"m64.18 400c0.237-2.073 0.237-4.167 0-6.24-0.553-2.116-1.359-4.157-2.4-6.08-0.859-1.895-1.876-3.715-3.04-5.44-1.112-1.772-2.458-3.386-4-4.8-12.481-12.407-32.639-12.407-45.12 0-1.542 1.414-2.888 3.028-4 4.8-1.164 1.725-2.181 3.545-3.04 5.44-0.83 1.948-1.421 3.99-1.76 6.08-0.451 2.049-0.665 4.142-0.64 6.24 0.036 8.473 3.431 16.586 9.44 22.56 1.414 1.542 3.028 2.888 4.8 4 1.685 1.228 3.511 2.249 5.44 3.04 1.951 0.821 3.992 1.412 6.08 1.76 2.047 0.459 4.142 0.674 6.24 0.64 2.073 0.239 4.167 0.239 6.24 0 2.036-0.349 4.024-0.94 5.92-1.76 1.981-0.786 3.861-1.807 5.6-3.04 1.772-1.112 3.386-2.458 4.8-4 1.542-1.414 2.888-3.028 4-4.8 1.231-1.683 2.252-3.51 3.04-5.44 1.092-2.125 1.899-4.384 2.4-6.72 0.246-2.073 0.246-4.167 0-6.24z"},null,-1),pe=l("path",{d:"m480.18 224h-352c-17.673 0-32 14.327-32 32s14.327 32 32 32h352c17.673 0 32-14.327 32-32s-14.327-32-32-32z"},null,-1),ye=l("path",{d:"m336.18 368h-208c-17.673 0-32 14.327-32 32s14.327 32 32 32h208c17.673 0 32-14.327 32-32s-14.327-32-32-32z"},null,-1);oe.render=function(r,l){return e(),t("svg",ce,[de,ue,ge,he,pe,ye])};const me={},xe={viewBox:"0 -52 512 512",xmlns:"http://www.w3.org/2000/svg"},fe=l("path",{d:"m0 0h113.292969v113.292969h-113.292969zm0 0"},null,-1),be=l("path",{d:"m149.296875 0h362.703125v113.292969h-362.703125zm0 0"},null,-1),we=l("path",{d:"m0 147.007812h113.292969v113.292969h-113.292969zm0 0"},null,-1),ve=l("path",{d:"m149.296875 147.007812h362.703125v113.292969h-362.703125zm0 0"},null,-1),ke=l("path",{d:"m0 294.011719h113.292969v113.296875h-113.292969zm0 0"},null,-1),Ce=l("path",{d:"m149.296875 294.011719h362.703125v113.296875h-362.703125zm0 0"},null,-1);me.render=function(r,l){return e(),t("svg",xe,[fe,be,we,ve,ke,Ce])};var ze=d({emits:["change-view","change-page"],components:{ButtonBase:z,ListIcon:oe,TableIcon:me},props:{resultsView:{type:String,default:"table"},isReSearch:{type:Boolean,require:!0},rows:{type:Array,default:()=>[]},pageSize:{type:Number,default:10},total:{type:Number,default:100},page:{type:Number,default:1}},setup(e,{emit:t}){const r=u({page:e.page,pageSize:e.pageSize,maxPage:g((()=>{if(e.total<=0)return 0;let t=Math.floor(e.total/r.pageSize);return e.total%r.pageSize>0&&t++,t})),offset:g((()=>(r.page-1)*r.pageSize+1)),limit:g((()=>{let t=r.page*r.pageSize;return e.total>=t?t:e.total}))}),l=(l,s)=>{let a=(l-1)*r.pageSize,n=r.pageSize;(!e.isReSearch||l>1||l==s)&&t("change-page",a,n)};y((()=>r.page),l);y((()=>r.pageSize),(()=>{1===r.page?l(r.page,r.page):r.page=1}));return{setting:r,prevPage:()=>{if(1==r.page)return!1;r.page--},movePage:e=>{r.page=e},nextPage:()=>{if(r.page>=r.maxPage)return!1;r.page++}}}});const Ie={class:"w-1/3"},Se={class:"flex"},Re={class:"w-1/3 text-sm text-center select-none",role:"status","aria-live":"polite"},Pe={class:"w-1/3 flex items-center justify-end"},Be={class:""},Fe=l("label",{for:"paginator-page-limit",class:"mr-2 text-sm"},"Limit",-1),Ve=l("option",{value:"10"},"10",-1),Ke=l("option",{value:"25"},"25",-1),Ne=l("option",{value:"50"},"50",-1),je={class:"ml-2 mr-6"},qe=l("label",{for:"paginator-page-select",class:"mr-2 text-sm"},"Page",-1),Le={class:"relative inline-flex shadow-sm -space-x-px text-sm font-medium","aria-label":"Pagination"},Ue=l("span",{"aria-hidden":"true"},"<",-1),Te=l("span",{class:"sr-only"},"Prev",-1),Ae=l("span",{"aria-hidden":"true"},">",-1),$e=l("span",{class:"sr-only"},"Next",-1);ze.render=function(r,n,o,c,d,u){const g=s("table-icon"),h=s("button-base"),p=s("list-icon");return e(),t("div",null,[l("div",Ie,[l("div",Se,[l(h,{class:["rounded-l",{"bg-primary-500 text-white dark:bg-primary-800":"table"==r.resultsView}],onClick:n[1]||(n[1]=e=>r.$emit("change-view","table"))},{default:i((()=>[l(g,{class:"w-3 fill-current"})])),_:1},8,["class"]),l(h,{class:["rounded-r",{"bg-primary-500 text-white dark:bg-primary-800":"list"==r.resultsView}],onClick:n[2]||(n[2]=e=>r.$emit("change-view","list"))},{default:i((()=>[l(p,{class:"w-3 fill-current"})])),_:1},8,["class"])])]),l("div",Re," Showing "+w(r.setting.offset)+"-"+w(r.setting.limit)+" of "+w(r.total),1),l("div",Pe,[l("div",Be,[Fe,a(l("select",{id:"paginator-page-limit",class:"py-1 text-sm rounded bg-gray-200 dark:bg-gray-800 text-gray-900 dark:text-gray-100","onUpdate:modelValue":n[3]||(n[3]=e=>r.setting.pageSize=e)},[Ve,Ke,Ne],512),[[v,r.setting.pageSize]])]),l("div",je,[qe,a(l("select",{id:"paginator-page-select",class:"py-1 text-sm rounded bg-gray-200 dark:bg-gray-800 text-gray-900 dark:text-gray-100","onUpdate:modelValue":n[4]||(n[4]=e=>r.setting.page=e)},[(e(!0),t(x,null,f(r.setting.maxPage,(r=>(e(),t("option",{key:r},w(r),1)))),128))],512),[[v,r.setting.page]])]),l("nav",Le,[l(h,{disabled:r.setting.page<=1,class:"px-4 rounded-l","aria-label":"Previous",onClick:r.prevPage},{default:i((()=>[Ue,Te])),_:1},8,["disabled","onClick"]),l(h,{disabled:r.setting.page>=r.setting.maxPage,class:"px-4 rounded-r","aria-label":"Next",onClick:r.nextPage},{default:i((()=>[Ae,$e])),_:1},8,["disabled","onClick"])])])])};const _e={components:{ButtonBase:z,ResultsToolbar:O,ResultsTable:W,ResultsList:se,ResultsFooter:ze},props:{index:{default:null}},data:()=>({view:"table",isLoading:!1,indexes:null,primaryKey:"id",results:null,query:null,offset:0,limit:10,rowClasses:["text-gray-900 dark:text-gray-100 bg-gray-200 dark:bg-gray-800","text-gray-900 dark:text-gray-100 bg-gray-300 dark:bg-gray-900"]}),computed:{isReSearch:function(){return null==this.offset},tableColumns:function(){let e=[];return this.results.hits&&Object.keys(this.results.hits[0]).forEach((t=>{let r={label:t,field:t};t===this.primaryKey&&(r.isKey=!0),e.push(r)})),e}},watch:{index:function(){this.handleFilterClear()}},mounted:function(){"list"===localStorage.getItem("resultView")?this.view="list":this.view="table"},methods:{updateCheckedRows(e){console.log("updateCheckedRows",e)},setLoading(e=!0){this.isLoading=e},handleViewChange(e){localStorage.setItem("resultView",e),this.view=e},setPage(e=0,t=10){this.offset=e,this.limit=t},handlePageChange(e=0,t=null){this.setLoading(),this.setPage(parseInt(e),parseInt(t)),this.sendQuery()},handleFilterChange(e){this.setLoading(),this.setPage(),this.query=e,this.sendQuery()},async sendQuery(){let e={offset:this.offset,limit:this.limit};this.results=await this.index.search(this.query,e)},handleFilterClear(){this.setPage(),this.query=null,this.sendQuery()}}},Me={class:"overflow-y-auto flex-grow h-full"},Ee={key:1,class:"p-4 text-gray-500 dark:text-gray-600"};_e.render=function(r,a,n,i,o,c){const d=s("results-toolbar"),u=s("results-table"),g=s("results-list"),h=s("results-footer");return e(),t("section",null,[l(d,{filter:o.query,onChangeFilter:c.handleFilterChange,onClearFilter:c.handleFilterClear,class:"flex flex-col items-center px-4 border-b border-gray-400 dark:border-gray-700 bg-gray-300 dark:bg-gray-900"},null,8,["filter","onChangeFilter","onClearFilter"]),l("div",Me,[o.results&&o.results.hits?(e(),t(x,{key:0},["table"===o.view?(e(),t(u,{key:0,columns:c.tableColumns,rows:o.results.hits,onReturnCheckedRows:c.updateCheckedRows},null,8,["columns","rows","onReturnCheckedRows"])):b("",!0),"list"===o.view?(e(),t(g,{key:1,rows:o.results.hits,onReturnCheckedRows:c.updateCheckedRows},null,8,["rows","onReturnCheckedRows"])):b("",!0)],64)):(e(),t("div",Ee," No Results "))]),o.results&&o.results.hits?(e(),t(h,{key:0,"is-re-search":c.isReSearch,"is-loading":o.isLoading,rows:o.results.hits,total:o.results.nbHits,offset:o.offset,limit:o.limit,"results-view":o.view,class:"px-4 py-1 flex justify-between items-center text-gray-600 dark:text-gray-400 border-t border-gray-400 dark:border-gray-700 bg-gray-300 dark:bg-gray-900",onChangePage:c.handlePageChange,onChangeView:c.handleViewChange},null,8,["is-re-search","is-loading","rows","total","offset","limit","results-view","onChangePage","onChangeView"])):b("",!0)])};const He={},Qe={viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg"},Oe=l("path",{d:"m446.71 166.06c-4.698-7.51-14.73-9.243-21.724-4.043l-48.677 36.519c-6.094 4.585-7.793 13.023-3.926 19.6 12.348 21.021 18.618 43.521 18.618 66.885 0 74.444-60.557 136.98-135 136.98s-135-62.536-135-136.98c0-69.375 52.588-126.68 120-134.16v44.165c0 12.434 14.266 19.357 23.994 11.997l120-90c8.006-5.989 7.994-18.014 0-23.994l-120-90c-9.763-7.393-23.994-0.397-23.994 11.997v45.498c-117.1 7.749-210 105.48-210 224.5 0 124.07 100.93 226.98 225 226.98s225-102.91 225-226.98c0-41.982-11.865-83.115-34.291-118.96z"},null,-1);He.render=function(r,l){return e(),t("svg",Qe,[Oe])};const De={emits:["select-index","refresh-indexes"],components:{ButtonBase:z,IndexIcon:S,RefreshIcon:He},props:{indexes:{default:null}},data:()=>({client:null,indexName:null,indexFilter:null}),computed:{filteredIndexes:function(){if(this.indexFilter){let e=new RegExp(this.indexFilter,"ig");return this.indexes.filter((({name:t,uid:r})=>(t+r).match(e)))}return this.indexes}},methods:{setIndex(e){this.indexName=e,this.$emit("select-index",e)}}},Ge={class:"h-full flex flex-col overflow-y-auto"},Je={class:"flex flex-col"},We={class:"flex justify-end py-2 px-4"};De.render=function(r,d,u,g,h,p){const y=s("index-icon"),m=s("refresh-icon"),b=s("button-base");return e(),t("nav",null,[l("form",{onSubmit:d[2]||(d[2]=o((()=>{}),["prevent"])),class:"flex w-full items-center py-2 px-4"},[a(l("input",{type:"search","onUpdate:modelValue":d[1]||(d[1]=e=>h.indexFilter=e),placeholder:"Search for index",class:"flex-grow rounded-l px-2 py-1 bg-transparent border border-gray-400 dark:border-gray-600"},null,512),[[n,h.indexFilter]])],32),l("div",Ge,[l("div",Je,[(e(!0),t(x,null,f(p.filteredIndexes,(r=>(e(),t("button",{type:"button",class:["text-left py-2 px-4 flex items-center",{"font-bold bg-primary-200 dark:bg-primary-800":h.indexName==r.uid}],key:r.uid,onClick:e=>p.setIndex(r.uid)},[l(y,{class:"w-4 mr-2 text-primary-400 dark:text-primary-300 fill-current"}),c(" "+w(r.name),1)],10,["onClick"])))),128))])]),l("div",We,[l(b,{class:"rounded",onClick:d[3]||(d[3]=e=>r.$emit("refresh-indexes"))},{default:i((()=>[l(m,{class:"w-3 fill-current"})])),_:1})])])};const Xe={components:{ButtonBase:z,IndexIcon:S,ErrorIcon:B,SunIcon:K,MoonIcon:E,IndexResults:_e,IndexList:De},data(){var e,t,r;return{theme:"light",busy:!1,connected:!1,connecting:!1,server:null!=(e=localStorage.getItem("server"))?e:"http://localhost",port:null!=(t=localStorage.getItem("port"))?t:"7700",apiKey:null!=(r=localStorage.getItem("apiKey"))?r:"",client:null,indexes:null,indexName:null,index:null}},mounted:function(){"dark"===localStorage.theme||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?this.theme="dark":this.theme="light"},computed:{hostUrl:function(){let e=this.server;return this.port&&"80"!==this.port&&(e=e+":"+this.port),e}},watch:{indexName:function(e){this.index=this.client.index(e)},server:function(e){this.$nextTick((()=>{this.server=e.replace(/\/$/,"")}))}},methods:{toggleTheme(){this.theme="light"==this.theme?"dark":"light",localStorage.setItem("theme",this.theme)},disconnect(){this.connected=!1},connect(){this.connecting=!0,localStorage.setItem("server",this.server),localStorage.setItem("port",this.port),localStorage.setItem("apiKey",this.apiKey),this.client=new k({host:this.hostUrl,apiKey:this.apiKey}),this.getIndexes(),this.connecting=!1,this.connected=!0},async getIndexes(){this.indexes=await this.client.listIndexes()},handleIndexRefresh(){this.getIndexes()},handleIndexSelect(e){this.indexName=e}}},Ye={class:"flex flex-col h-full text-gray-900 dark:text-gray-100 bg-gray-200 dark:bg-gray-800"},Ze={class:"bg-gray-100 dark:bg-gray-700 p-4"},et={class:"flex items-center justify-between select-none"},tt={key:0,class:"flex justify-between"},rt={key:1},lt={class:"flex-grow overflow-y-auto"},st={key:0,class:"h-full w-full flex items-center justify-center"},at={key:0,class:"flex items-center"},nt=l("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[l("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),l("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),it=c(" Connecting "),ot={key:1,class:"flex flex-col rounded shadow-xl bg-gray-100 dark:bg-gray-700 w-full max-w-lg"},ct={class:"flex rounded-t"},dt={class:"border-t border-gray-200 dark:border-gray-600"},ut=c("Connect"),gt={key:1,class:"h-full w-full flex items-center justify-center"};Xe.render=function(r,o,c,d,u,g){const h=s("ErrorIcon"),p=s("SunIcon"),y=s("MoonIcon"),m=s("button-base"),x=s("index-list"),f=s("index-results");return e(),t("div",{class:[u.theme,"h-full"]},[l("div",Ye,[l("header",Ze,[l("div",et,[l("div",{class:["flex-grow rounded text-sm px-2 py-1 mr-4",{"bg-primary-600 text-primary-100":u.connected,"bg-gray-200 text-gray-500":!u.connected}]},[u.connected?(e(),t("div",tt,[l("div",null,w(g.hostUrl),1),u.connected?(e(),t("button",{key:0,class:"text-xs font-bold",onClick:o[1]||(o[1]=e=>g.disconnect())},[l(h,{class:"w-4 fill-current"})])):b("",!0)])):(e(),t("div",rt," Not Connected "))],2),l(m,{class:"rounded",onClick:o[2]||(o[2]=e=>g.toggleTheme())},{default:i((()=>["dark"===u.theme?(e(),t(p,{key:0,class:"w-3 fill-current"})):b("",!0),"light"===u.theme?(e(),t(y,{key:1,class:"w-3 fill-current"})):b("",!0)])),_:1})])]),l("main",lt,[u.connected?b("",!0):(e(),t("div",st,[u.connecting?(e(),t("div",at,[nt,it])):b("",!0),u.connecting?b("",!0):(e(),t("div",ot,[l("div",ct,[a(l("input",{type:"input","onUpdate:modelValue":o[3]||(o[3]=e=>u.server=e),class:"flex-grow px-2 py-3 bg-transparent"},null,512),[[n,u.server]]),a(l("input",{type:"input","onUpdate:modelValue":o[4]||(o[4]=e=>u.port=e),class:"w-20 px-2 py-3 bg-transparent border-l border-gray-200 dark:border-gray-600"},null,512),[[n,u.port]])]),l("div",dt,[a(l("input",{type:"password","onUpdate:modelValue":o[5]||(o[5]=e=>u.apiKey=e),placeholder:"API Key",class:"border-0 w-full px-2 py-3 bg-transparent"},null,512),[[n,u.apiKey]])]),l(m,{class:"bg-primary-200 dark:bg-primary-800 rounded-b px-2 py-3",onClick:o[6]||(o[6]=e=>g.connect())},{default:i((()=>[ut])),_:1})]))])),u.connected?(e(),t("div",gt,[l(x,{indexes:u.indexes,onRefreshIndexes:g.handleIndexRefresh,onSelectIndex:g.handleIndexSelect,class:"h-full flex flex-col flex-shrink-0 text-sm w-60 bg-gray-300 dark:bg-gray-800 border-r border-gray-400 dark:border-gray-900"},null,8,["indexes","onRefreshIndexes","onSelectIndex"]),l(f,{index:u.index,class:"flex-grow flex flex-col h-full"},null,8,["index"])])):b("",!0)])])],2)};C(Xe).mount("#app");
